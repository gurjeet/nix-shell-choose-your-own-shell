echo ENTERING SHELL HOOK

which bash

echo PATH was $PATH

# Strip the first element from $PATH. This component was prepended by nix-shell
# to make sure the bash in caller's environment gets used inside nix-shell
# environment as well.
export PATH="$(echo $PATH | cut -d : -f 2-)"

which bash

# Now invoke first bash found in $PATH. Use --norc to prevent invoking user's ~/.bashrc
exec env PS1='> ' bash --norc

# This command will never be executed because of the `exec` in the previous line.
echo LEAVING SHELL HOOK

